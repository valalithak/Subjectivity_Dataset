WASHINGTON — While the world agonized over the huge nuclear test in North Korea this weekend, President Trump aimed his most pointed rhetorical fire not at the renegade regime in Pyongyang, but at America’s closest partner in confronting the crisis: South Korea. In taking to Twitter to accuse Seoul of “appeasement,” Mr. Trump was venting his frustration at a new liberal South Korean government he sees as both soft on North Korea’s atomic program and resistant to his demand for an overhaul of trade practices that he views as cheating American workers and companies. For Mr. Trump, the crisis lays bare how his trade agenda — the bedrock of his economic populist campaign in 2016 — is increasingly at odds with the security agenda he has pursued as president. It is largely a problem of Mr. Trump’s own making. Unlike several of his predecessors, who were able to press countries on trade issues while cooperating with them on security, Mr. Trump has explicitly linked the two, painting himself into a corner. The president, known for fighting his political wars simultaneously on multiple fronts, seems intent on taking on all comers in Asia. The president on Sunday took a somewhat milder jab at another country he sees as an adversary on trade, China, saying the North was an “embarrassment” to Beijing, its primary economic patron. The president took a harder line later in the day, saying he was considering the drastic step of “stopping all trade with any country doing business with North Korea,” but he did not single out China by name. Thus, what was supposed to be a calm holiday weekend dissolved into jitters over a dual threat: the specter of nuclear war on the Korean Peninsula, and the possibility of an economic standoff among world powers, as Mr. Trump considers walking away from a major trade agreement with South Korea as early as this week. Administration officials said Mr. Trump’s attack-on-all-fronts approach was necessary to keep the pressure on adversaries and allies alike. But outside observers saw a danger in Mr. Trump’s efforts to fulfill a core populist campaign promise on trade even as he tried to use the issue as leverage on security matters. “In a circumstance where we’re going to need close cooperation with not only South Korea but China as well, he’s coming out swinging at all of them rather than trying to build support and coordination,” said Ely Ratner, a top national security official in the Obama administration. “It just looks so haphazard.” Still, Mr. Ratner said North Korea’s latest nuclear test could finally spur China, which views nuclear tests as far more serious than the North’s series of ballistic missile launches, to undertake a more serious crackdown on its neighbor. “I think the nuclear test has a chance of pushing China into a place it’s never been before,” Mr. Ratner said. In a salvo of Twitter messages over six hours on Sunday, Mr. Trump called North Korea’s biggest nuclear test to date “very hostile and dangerous.” In invoking South Korean “appeasement,” he criticized Seoul’s proposal to hold military talks with the North, saying of Pyongyang, “they only understand one thing” — meaning the threat of military force. The Treasury secretary, Steven Mnuchin, said that he planned to draft a new sanctions package that would cut economic ties with anyone who did business with North Korea. “There’s a lot we can do to cut them off economically, much more than we’ve done,” Mr. Mnuchin said, speaking on “Fox News Sunday.” He called Pyongyang’s actions “unacceptable” and stressed the need for stronger steps. Mr. Trump’s threat to halt trade went much further, suggesting a move that would dramatically intensify the potential for conflict with China, which accounts for roughly 85 percent of all trade with the North. Some critics dismissed the president’s suggestion as an empty threat, because, if carried out, it would most likely prompt an immediate legislative remedy by congressional leaders from both parties. But it was a hit with Mr. Trump’s target domestic audience. Stephen K. Bannon, the president’s ousted chief strategist, said he had pushed for a tougher stance toward China in the weeks before he left the administration, casting Mr. Trump’s threats as a victory for the economic nationalists over the globalists. Until now, he said, his fear was that the White House debate was going to be won by what he called “rational accommodationists” toward China. “This is 100 percent about China,” Mr. Bannon said. “You’ve got to sanction the Chinese companies and Chinese financial institutions.” Earlier this year, as tensions with North Korea flared, Mr. Trump met with President Xi Jinping at Mar-a-Lago, Mr. Trump’s Florida estate, and decided to back off labeling China as a currency manipulator in return for Mr. Xi’s support in pressuring Pyongyang. That quid pro quo, critics said, deprived him of leverage after it became clear that the Chinese government was not going to radically shift either its North Korean or trade policies. And it left Mr. Trump deeply frustrated, officials said, especially after his aides also persuaded him to delay action against steel imports, which would have targeted China, South Korea, Japan and other exporters. While Mr. Trump’s policy toward China will have the greatest long-term geopolitical implications, it was Mr. Trump’s caustic attack on South Korea’s leadership on Sunday that took many observers by surprise. South Korean officials, in a shift from the previous conservative government, have called for increased negotiations with the North as a way of defusing the escalating tensions on the tinderbox Korean Peninsula. Mr. Trump warned last week that “talking is not the answer.” President Moon Jae-in of South Korea and Mr. Trump last spoke on Friday to discuss the trade situation, but have not talked since the atomic test, said an administration official with knowledge of the call. Robert Einhorn, a former senior State Department nonproliferation expert, said Mr. Trump’s criticism of the South Korean leader was misguided. “Moon has actually been very supportive of the U.S. approach of maximum pressure and engagement,” Mr. Einhorn said. “Nothing he’s done so far smacks of appeasement.” Mr. Trump’s greatest frustration with Mr. Moon, White House aides said, is an escalating dispute over South Korea’s chronic trade surplus with the United States, a topic very much on Mr. Trump’s mind as his poll numbers slide in industrial Midwestern states. On Saturday, before the nuclear test, senior administration officials confirmed that they were considering withdrawing from United States-Korea Free Trade Agreement over what they believed was Seoul’s pursuit of unfair protectionist policies that had harmed the American auto and steel industries. “I don’t think that would be good in any circumstances,” said Senator Jeff Flake, Republican of Arizona and a member of the Senate Foreign Relations Committee, speaking on CNN’s “State of the Union.” “Now it’s particularly troubling, given what South Korea is faced with.” But Mr. Trump’s decision to take aim at South Korea was as much a function of his bruising political style as his policy preferences. The president’s brand is based on projecting strength, and since he could not throw a real punch at Pyongyang, Seoul was the logical target, said a member of Mr. Trump’s foreign policy team. Mr. Trump’s aides have tried to temper his tweets on North Korea, urging him to use his cabinet or communications staff to transmit the toughest threats to Pyongyang. He has been clearing many — but not all — of his policy-related tweets through his new chief of staff, John F. Kelly. His messaging on Sunday was in line with that of his national security staff, a senior administration official said. The toughest talk came from Defense Secretary Jim Mattis, who said the United States would answer any threat from the North with a “massive” military response. The president, asked as he left a church service whether he planned to attack North Korea, said, “We’ll see.” 